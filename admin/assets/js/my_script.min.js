!function(e){if(e(document).on("click","#archive__pager_type_type1",function(t){e("#archive_pager_type_type1_area").show(),e("#archive_pager_type_type2_area").hide()}),e(document).on("click","#archive__pager_type_type2",function(t){e("#archive_pager_type_type2_area").show(),e("#archive_pager_type_type1_area").hide()}),e(".c-color-picker").wpColorPicker(),e(".cf-color-picker").wpColorPicker(),e(".sortable").sortable({placeholder:"sortable-placeholder",handle:".theme_option_subbox_headline",forceHelperSize:!0,forcePlaceholderSize:!0}),e(".repeater-wrapper").each(function(){var t=e(this).find(".repeater-item").last().index();e(this).find(".button-add-row").click(function(o){o.preventDefault();var r=e(this).attr("data-clone"),a=e(this).closest(".repeater-wrapper");r&&a.length&&(t++,a.find(".repeater").append(r.replace(/addindex/g,t))),e(".cf-color-picker").wpColorPicker()})}).on("click",".button-delete-row",function(t){t.preventDefault();var o=!0,r=e(this).closest(".repeater-wrapper").attr("data-delete-confirm");r.length&&(o=confirm(r)),o&&e(this).closest(".repeater-item").remove()}),document.getElementById("my_theme_option")){e("#my_theme_option").cookieTab({tabMenuElm:"#theme_tab",tabPanelElm:"#tab-panel"});for(var t=document.getElementsByClassName("theme_option_field"),o=0,r=t.length;o<r;o++)t[o].addEventListener("click",function(e){if(e.target)if(e.target.classList.contains("theme_option_subbox_headline"))e.target.parentNode.classList.toggle("active");else if("INPUT"===e.target.nodeName&&"radio"===e.target.type){var t=e.target.name.match(/dp_options\[(\w+)\]/)[1],o=e.target.value,r=document.querySelectorAll('[id^="'+t+'"], [class^="'+t+'"]');"contents_builder"!==t&&r.length&&(r.forEach(function(e){e.style.display="none"}),document.getElementById(t+"_"+o)&&(document.getElementById(t+"_"+o).style.display="block"),document.querySelectorAll("."+t+"_"+o).forEach(function(e){e.style.display="block"}))}});e(".theme_option_field").on("change keyup",".change_subbox_headline",function(t){e(this).closest(".sub_box").find(".theme_option_subbox_headline").text(e(this).val())}),e(".repeater-wrapper").on("change",".footer-bar-type select",function(t){var o=e(this).parents(".sub_box"),r=o.find(".footer-bar-target"),a=o.find(".footer-bar-url"),i=o.find(".footer-bar-number");switch(t.target.value){case"type1":r.show(),a.show(),i.hide();break;case"type2":r.hide(),a.hide(),i.hide();break;case"type3":r.hide(),a.hide(),i.show()}}),e("#tab-panel").on("click",".ajax_button",function(){var t=e(".button-ml");return e("#saving_data").show(),tinyMCE.triggerSave(),e("#myOptionsForm").ajaxSubmit({beforeSend:function(){t.attr("disabled",!0)},complete:function(){t.attr("disabled",!1)},success:function(){e("#saving_data").hide(),e("#saved_data").html('<div id="saveMessage" class="successModal"></div>'),e("#saveMessage").append("<p>"+error_messages.success+"</p>").show()},error:function(){e("#saving_data").hide(),alert(error_messages.error)},timeout:1e4}),setTimeout(function(){e("#saveMessage").hide()},3e3),!1})}if(e("[data-logo-width-input]").length){var a=[];e("[data-logo-width-input]").each(function(t){a[t]={};var o=a[t];o.$preview=e(this),o.$logo=e('<div class="slider_logo_preview-logo">'),o.$logoWidth=e(e(this).attr("data-logo-width-input")),o.$logoImg=e(e(this).attr("data-logo-img")),o.logoImgSrc=null,o.logoImgSrcFirst=null,o.$bgImg=null,o.$Overlay=e('<div class="slider_logo_preview-overlay"></div>'),o.$overlayColor=e(e(this).attr("data-overlay-color")),o.$overlayOpacity=e(e(this).attr("data-overlay-opacity")),o.$preview.html("").append(o.$logo).append(o.$Overlay),o.$preview.closest(".slider_logo_preview-wrapper").hide(),o.$logoImg&&o.$logoImg.length&&(o.logoImgSrcFirst=o.$logoImg.attr("src")),o.$logo.on("dblclick",function(){o.$logoWidth.val(0),o.$logo.width(o.$logo.attr("data-origin-width"))})});var i=function(){for(var t=0;t<a.length;t++){var o=a[t],r=!1;if(o.$logoImg=e(o.$preview.attr("data-logo-img")),o.$bgImg=null,o.$logoImg.length&&o.logoImgSrc!==o.$logoImg.attr("src")&&(o.$logoImg.prop("complete")||o.$logoImg.prop("readyState")||"complete"===o.$logoImg.prop("readyState"))){r=!0,o.logoImgSrc=o.$logoImg.attr("src");var i=new Image;if(i.src=o.logoImgSrc,o.$logo.hasClass("ui-resizable")&&o.$logo.resizable("destroy"),o.$logo.find("img").remove(),o.$logo.html('<img src="'+o.logoImgSrc+'" alt="" />').attr("data-origin-width",i.width).append('<div class="slider_logo_preview-logo-border-e"></div><div class="slider_logo_preview-logo-border-n"></div><div class="slider_logo_preview-logo-border-s"></div><div class="slider_logo_preview-logo-border-w"></div></div>'),o.logoImgSrcFirst){var l=parseInt(o.$logoWidth.val(),10);o.logoImgSrcFirst=null,l>0?o.$logo.width(l):o.$logo.width(i.width)}else o.$logoWidth.val(0),o.$logo.width(i.width);o.$logo.resizable({aspectRatio:!0,distance:5,handles:"all",maxWidth:1180,stop:function(t,o){e(e(this).closest("[data-logo-width-input]").attr("data-logo-width-input")).val(parseInt(o.size.width,10))}})}o.$Overlay.removeAttr("style");var s=o.$overlayColor.val()||"",n=parseFloat(o.$overlayOpacity.val()||0);if(s&&n>0){var g=[];(s=s.replace("#","")).length>=6?(g.push(parseInt(s.substring(0,2),16)),g.push(parseInt(s.substring(2,4),16)),g.push(parseInt(s.substring(4,6),16)),g.push(n),o.$Overlay.css("background-color","rgba("+g.join(",")+")")):s.length>=3&&(g.push(parseInt(s.substring(0,1)+s.substring(0,1),16)),g.push(parseInt(s.substring(1,2)+s.substring(1,2),16)),g.push(parseInt(s.substring(2,3)+s.substring(2,3),16)),g.push(n),o.$Overlay.css("background-color","rgba("+g.join(",")+")"))}r&&(o.logoImgSrc?o.$preview.closest(".slider_logo_preview-wrapper").show():o.$preview.closest(".slider_logo_preview-wrapper").hide())}};setInterval(i,500),e(".cfmf-delete-img").on("click.logoPreviewChange",function(){setTimeout(i,30)})}}(jQuery);